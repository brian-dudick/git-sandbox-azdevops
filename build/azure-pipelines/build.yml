parameters:
  solution: PrimeService/PrimeService.csproj
  msBuildArgs: '/P:Configuration=Release;DeployOnBuild=true;PublishProfile=TeamCityPackage;PackageLocation="$(Build.ArtifactStagingDirectory)\Co-ConstructSite.zip"'

steps:
- task: NuGetToolInstaller@0
  displayName: 'Use NuGet 4.4.1'
  inputs:
    versionSpec: 4.4.1
- task: NuGetCommand@2
  displayName: 'NuGet restore'
  inputs:
    restoreSolution: ${{ parameters.solution }}
- task: msbuild@1
  displayName: 'Run MS Build On Project'
  inputs:
    solution: ${{ parameters.solution }}

# msbuild
#- ${{ if not(contains(variables['Build.SourceBranch'], 'Features')) }}:
#  - task: msbuild@1
#  inputs:
  #  solution: PrimeService/PrimeService.csproj

#- ${{ if contains(variables['Build.SourceBranch'], 'Features') }}:
#  - task: msbuild@1

# dotnet
#- ${{ if !contains(variables['Build.SourceBranch'], 'Features') }}:
#  - task: dotnet@1
#    inputs:
#      #command: build
#  - task: dotnet@1
#    inputs:
#      #command: test